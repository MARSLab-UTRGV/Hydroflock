<?xml version="1.0" ?>
<argos-configuration>
    <framework>
        <system threads="0"/>
        <experiment length="0" ticks_per_second="10" random_seed="124"/>
    </framework>
    <controllers>
        <footbot_hydroflock_controller id="ffc" library="build/controllers/footbot_hydroflock/libfootbot_hydroflock">
            <actuators>
                <differential_steering implementation="default"/>
                <leds implementation="default" medium="leds"/>
                <range_and_bearing implementation="default"/>
            </actuators>
            <sensors>
                <footbot_light implementation="rot_z_only" show_rays="false"/>
                <colored_blob_omnidirectional_camera implementation="rot_z_only" medium="leds" show_rays="false"/>
                <positioning implementation="default"/>
                <range_and_bearing implementation="medium" medium="rab" show_rays="false"/>
                <footbot_proximity implementation="default" show_rays="true"/>
            </sensors>
            <params>
                <wheel_turning hard_turn_angle_threshold="90" soft_turn_angle_threshold="70" no_turn_angle_threshold="0.1" max_speed="10"/>
                <flocking target_distance="75" gain="1250" exponent="2" GreenToRed_GainModifier="0.25" GreenToRed_TargetDistanceModifier="1" RedToGreen_GainModifier="0.1" RedToGreen_TargetDistanceModifier="1" RedToRed_GainModifier="1.5" RedToRed_TargetDistanceModifier="2"/>
                <settings communication_test="false" time_step="0.1" target_position="0,4.5,0" AngleThresholdInDegrees="20.0" EnableLogging="true" LogFrequency="10"/>
            </params>
        </footbot_hydroflock_controller>
    </controllers>
    <arena size="10,15,10" center="0,0,0.5">
        <light id="light" position="0,4.5,5" orientation="0,0,0" color="yellow" intensity="5.0" medium="leds"/>
        <box id="wall_north" size="10.1,0.1,1.0" movable="false">
            <body position="0,7.5,0" orientation="0,0,0"/>
        </box>
        <box id="wall_south" size="10.1,0.1,1.0" movable="false">
            <body position="0,-7.5,0" orientation="0,0,0"/>
        </box>
        <box id="wall_east" size="0.1,15.0,1.0" movable="false">
            <body position="5.0,0,0" orientation="0,0,0"/>
        </box>
        <box id="wall_west" size="0.1,15.0,1.0" movable="false">
            <body position="-5.0,0,0" orientation="0,0,0"/>
        </box>
        <distribute>
            <position method="uniform" min="-1.5,-3,0" max="-0.5,-2,0"/>
            <orientation method="gaussian" mean="0,0,0" std_dev="360,0,0"/>
            <entity quantity="10" max_trials="100">
                <foot-bot id="fb" omnidirectional_camera_aperture="80">
                    <controller config="ffc"/>
                </foot-bot>
            </entity>
        </distribute>
        <box id="wall_middle" size="8.0,0.1,1.0" movable="false">
            <body position="-1.0,0,0" orientation="0,0,0"/>
        </box>
    </arena>
    <physics_engines>
        <dynamics2d id="dyn2d"/>
    </physics_engines>
    <media>
        <led id="leds"/>
        <range_and_bearing id="rab"/>
    </media>
    <visualization>
        <qt-opengl>
            <camera>
                <placements>
                    <placement index="0" position="0,0,13" look_at="0,0,0" up="0,1,0" lens_focal_length="35"/>
                    <placement index="1" position="0,-9,5" look_at="0,0,0" up="0,1,0" lens_focal_length="35"/>
                    <placement index="2" position="0,9,5" look_at="0,0,0" up="0,-1,0" lens_focal_length="35"/>
                    <placement index="3" position="4,0,5" look_at="0,0,0" up="-1,0,0" lens_focal_length="20"/>
                    <placement index="4" position="-4,0,5" look_at="0,0,0" up="1,0,0" lens_focal_length="20"/>
                    <placement index="5" position="-3,0,2" look_at="1,0,0" up="1,0,0" lens_focal_length="35"/>
                </placements>
            </camera>
            <user_functions library="build/loop_functions/libhydroflock_loop_functions" label="hydroflock_qt_user_functions"/>
        </qt-opengl>
    </visualization>
</argos-configuration>