<?xml version="1.0" ?>
<argos-configuration>
    <framework>
        <system threads="0"/>
        <experiment length="0" ticks_per_second="10" random_seed="124"/>
    </framework>
    <controllers>
        <footbot_hydroflock_controller id="ffc" library="build/controllers/footbot_hydroflock/libfootbot_hydroflock">
            <actuators>
                <differential_steering implementation="default"/>
                <leds implementation="default" medium="leds"/>
            </actuators>
            <sensors>
                <footbot_light implementation="rot_z_only" show_rays="true"/>
                <colored_blob_omnidirectional_camera implementation="rot_z_only" medium="leds" show_rays="true"/>
            </sensors>
            <params>
                <wheel_turning hard_turn_angle_threshold="90" soft_turn_angle_threshold="70" no_turn_angle_threshold="10" max_speed="10"/>
                <flocking target_distance="75" gain="1250" exponent="2"/>
            </params>
        </footbot_hydroflock_controller>
    </controllers>
    <arena size="5,10,1" center="0,0,0.5">
        <light id="light" position="0,4.5,0.5" orientation="0,0,0" color="yellow" intensity="5.0" medium="leds"/>
        <distribute>
            <position method="uniform" min="-0.5,-4,0" max="0.5,-3,0"/>
            <orientation method="gaussian" mean="0,0,0" std_dev="360,0,0"/>
            <entity quantity="10" max_trials="100">
                <foot-bot id="fb" omnidirectional_camera_aperture="80">
                    <controller config="ffc"/>
                </foot-bot>
            </entity>
        </distribute>
        <box id="wall_north" size="5.1,0.1,1.0" movable="false">
            <body position="0,5.0,0" orientation="0,0,0"/>
        </box>
        <box id="wall_south" size="5.1,0.1,1.0" movable="false">
            <body position="0,-5.0,0" orientation="0,0,0"/>
        </box>
        <box id="wall_east" size="0.1,10.0,1.0" movable="false">
            <body position="2.5,0,0" orientation="0,0,0"/>
        </box>
        <box id="wall_west" size="0.1,10.0,1.0" movable="false">
            <body position="-2.5,0,0" orientation="0,0,0"/>
        </box>
    </arena>
    <physics_engines>
        <dynamics2d id="dyn2d"/>
    </physics_engines>
    <media>
        <led id="leds"/>
    </media>
    <visualization>
        <qt-opengl>
            <camera>
                <placements>
                    <placement index="0" position="0,0,13" look_at="0,0,0" up="0,1,0" lens_focal_length="35"/>
                    <placement index="1" position="0,-9,5" look_at="0,0,0" up="0,1,0" lens_focal_length="35"/>
                    <placement index="2" position="0,9,5" look_at="0,0,0" up="0,-1,0" lens_focal_length="35"/>
                    <placement index="3" position="4,0,5" look_at="0,0,0" up="-1,0,0" lens_focal_length="20"/>
                    <placement index="4" position="-4,0,5" look_at="0,0,0" up="1,0,0" lens_focal_length="20"/>
                </placements>
            </camera>
            <user_functions library="build/loop_functions/libhydroflock_loop_functions" label="hydroflock_qt_user_functions"/>
        </qt-opengl>
    </visualization>
</argos-configuration>